[build]
builder = "dockerfile"
dockerfilePath = "Dockerfile"

[deploy]
startCommand = "node src/server.js"
healthcheckPath = "/health"
healthcheckTimeout = 300
restartPolicyType = "on_failure"
restartPolicyMaxRetries = 3

[variables]
PORT = "8080"
SETUP_PASSWORD = "${{ secret() }}"
OPENCLAW_GATEWAY_TOKEN = "${{ secret() }}"
ENABLE_WEB_TUI = "true"
OPENCLAW_STATE_DIR = "/data/.openclaw"
OPENCLAW_WORKSPACE_DIR = "/data/workspace"
OPENCLAW_TEMPLATE_DEBUG = "false"
TUI_IDLE_TIMEOUT_MS = "300000"
TUI_MAX_SESSION_MS = "1800000"
RAILWAY_RUN_UID = "0"
INTERNAL_GATEWAY_HOST = "127.0.0.1"
INTERNAL_GATEWAY_PORT = "18789"
